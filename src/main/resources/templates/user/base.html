<!doctype html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
	th:fragment="layout(content,page)">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">

<!-- Custom CSS -->
<link rel="stylesheet" th:href="@{/css/style.css}" />

<!-- Toastify CSS -->
<link rel="stylesheet" type="text/css"
	href="https://cdn.jsdelivr.net/npm/toastify-js/src/toastify.min.css">

<!-- Toastify JS -->

<!-- Font Awesome -->
<link rel="stylesheet"
	href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

<!-- Bootstrap CSS -->
<link rel="stylesheet"
	href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/css/bootstrap.min.css">


<title th:text="${page + ' Page'}">Page</title>


</head>
<body>
	<!-- Navbar -->
	<nav
		class="navbar navbar-expand-lg bg-my-primary navbar-dark sticky-top">
		<div class="container-fluid">
			<!-- Sidebar toggle button shown on all screens -->
			<button class="btn btn-outline-light me-3" id="sidebarToggle">
				<i class="fas fa-bars"></i>
			</button>

			<a class="navbar-brand" th:href="@{/user/dashboard}">Smart
				Contact Manager</a>

			<div class="collapse navbar-collapse" id="navbarSupportedContent">
				<ul class="navbar-nav ms-auto">
					<li class="nav-item d-flex align-items-center ms-2"><a
						th:href="@{/logout}" class="btn btn-danger text-light"> <i
							class="fa-solid fa-right-from-bracket me-1"></i>
					</a></li>
				</ul>
			</div>
		</div>
	</nav>

	<!-- Main Layout -->
	<div class="d-flex">
		<!-- Sidebar -->
		<div
			class="sidebar bg-dark text-white vh-100 p-3 position-fixed  overflow-auto"
			id="sidebar">
			<div class="profile text-center mt-4">
				<div class="image mb-2">
					<img th:src="${user.imageUrl}" alt="Profile Image"
						class="rounded-circle img-thumbnail"
						style="height: 70px; width: 70px; object-fit: cover;" />
				</div>
				<h4 th:text="${user.name}" class="mb-4 text-white"></h4>
			</div>

			<ul class="nav flex-column">
				<li class="nav-item mb-2"><a th:href="@{/user/dashboard}"
					class="nav-link text-white mytext"> <i class="fas fa-home me-2"></i>Home
				</a></li>
				<li class="nav-item mb-2"><a th:href="@{/user/add-contact}"
					class="nav-link text-white mytext"> <i
						class="fas fa-user-plus me-2"></i>Add Contact
				</a></li>
				<li class="nav-item mb-2"><a th:href="@{/user/view-contacts/0}"
					class="nav-link text-white mytext"> <i
						class="fas fa-address-book me-2"></i>Show Contacts
				</a></li>
				<li class="nav-item mb-2"><a th:href="@{/user/profile}"
					class="nav-link text-white mytext"> <i
						class="fas fa-user-circle me-2"></i>Your Profile
				</a></li>
				<li class="nav-item mb-2"><a th:href="@{/user/settings}"
					class="nav-link text-white mytext"> <i class="fas fa-cog me-2"></i>Settings
				</a></li>
				<!-- Mobile-only Logout -->
				<li class="nav-item  bg-danger d-lg-none"><a
					th:href="@{/logout}" class="nav-link text-white  mytext"> <i
						class="fa-solid fa-right-from-bracket me-2"></i>
				</a></li>
			</ul>
		</div>

		<!-- Content Area -->

		<div
			class="content flex-grow-1 p-md-5 expanded bg-secondary min-vh-100"
			style="--bs-bg-opacity: .3;" id="contentArea">
			<input type="hidden" id="toastContent" th:value="${message != null ? message.msg : ''}" />
<input type="hidden" id="toastType" th:value="${message != null ? message.type : ''}" />



			<div th:replace="${content}"></div>
		</div>
	</div>

	<!-- Scripts -->
	<script
		src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/js/bootstrap.bundle.min.js"></script>
	<script
		src="https://cdnjs.cloudflare.com/ajax/libs/bodymovin/5.7.6/lottie.min.js"></script>
	<script th:src="@{/js/index.js}"></script>
	<script type="text/javascript"
		src="https://cdn.jsdelivr.net/npm/toastify-js"></script>


</body>
</html>
